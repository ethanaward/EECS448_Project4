<?php
// Start the session
session_start();
if(isset($_GET['forumID'])) {
  $_SESSION['forumname'] = $_GET['forumID'];
}

//Displays session message if needed
if(isset($_SESSION['message'])) {
	echo "<h3>".$_SESSION['message']."</h3>";
	unset($_SESSION['message']);
}
?>
<html>
<!--
	Author: Michael Neises,
	Date Modified: April 17, 2016
	Purpose: to display the list of topics for choosing inside a forum
-->
	<head>
		<title>EECSForum Forum Feed</title>
		<!--
			With this php we use ForumBackEnd.php to display the forums available from the user's forum database.
			See file for more details.
		-->

		<!--
			Here we include the javascript scripts.
		-->
		<script type="text/javascript" src="scripts/InputValidator.js"></script>
		<script type="text/javascript" src="scripts/main.js"></script>
		<style>
			ul {
				list-style-type: none;
				margin: 0;
				padding: 0;
				width: 200px;
				background-color: #f1f1f1;
			}

			li a {
				display: block;
				color: #000;
				padding: 8px 0 8px 16px;
				text-decoration: none;
			}

			li a.active {
				background-color: #4CAF50;
				color: white;
			}

			li a:hover:not(.active) {
				background-color: #555;
				color: white;
			}
		</style>
    </head>
	<body>
		<?php
			if (isset($_GET['forum'])) 
			{
   				echo "<h1>".$_GET['forum']."</h1>";
			}
			else
			{
  				echo "<h1>EECS Forum</h1>";
			}
		?>
	<ul>
  	<li><a href="index.html">Home</a></li>
	<?php include 'DisplaySignupLogin.php'; ?>
	<?php include 'DisplayProfileLink.php'; ?>
	<li><a href="ForumArchiveFrontEnd.html">Forum</a></li>
	<?php include 'DisplayLogoutLink.php'; ?>
	</ul>
	<br><br>
		<?php
			include 'ForumBackEnd.php';
		?>
		<br><br>

		<!--
			Here is the form for creation of a new topic
			This can be updated to allow automatic username input by way of login persistence.
		-->
		<form id="myForm" onsubmit = "return x.checkPost();" action="CreatePosts.php?topic=0" method="post">
			<textarea rows="8" cols="100" id = "post" name="mypost"></textarea><br>
        		<input type="submit" class="button" name="submit" value="Post">
			Topic Name:
        		<input type="text" id="topic" name="topicID">
        		<input type="hidden" name="isForum" value="0">
        		<input type="hidden" name="isTopic" value="1">
		</form>
	</body>
</html>
