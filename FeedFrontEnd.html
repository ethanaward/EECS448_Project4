<?php
// Start the session
session_start();

//Displays session message if needed
if(isset($_SESSION['message'])) {
	echo "<h3>".$_SESSION['message']."</h3>";
	unset($_SESSION['message']);
}
?>
<html>
<!--
	Author: Michael Neises, Travis Augustine
	Date Modified: April 6, 2016
	Purpose: to display the feed through FeedBackEnd and to provide forms for posting
-->
	<head>
		<title>EECSForum Topic</title>
		<!--
			With this php we use FeedBackEnd.php to display the contents of the posts database.
			See file for more details.
		-->
		<?php
			include 'FeedBackEnd.php';
		?>
		<!--
			Here we include the javascript scripts.
		-->
		<script type="text/javascript" src="scripts/InputValidator.js"></script>
		<script type="text/javascript" src="scripts/main.js"></script>
    </head>
	<body>
		<br><br>
		<!--
			Here is the form for input of post content and username
			This can be updated to allow automatic username input by way of login persistence.
		-->
		<form id="myForm" onsubmit = "return x.checkPost();" action="CreatePosts.php?topic=1" method="post">
			<textarea rows="8" cols="100" id = "post" name="mypost"></textarea><br>
        		<input type="submit" class="button" name="submit" value="Post">
        		<input type="hidden" name="isForum" value="0">
        		<input type="hidden" name="isTopic" value="0">
		</form>
	<!--
		Here we display navigation links below everything else.
	-->
		<?php include 'DisplaySignupLogin.php'; ?>
		<?php include 'DisplayProfileLink.php'; ?>
		<?php include 'DisplayLogoutLink.php'; ?>
		<?php include 'DisplayForumLink.php'; ?>
		<br>
		<a href="index.html">Main Page</a>
	</body>
</html>
